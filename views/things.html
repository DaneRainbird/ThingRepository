<!DOCTYPE html>
    <head>
        <title>ThingRepository | Things</title>
        <link rel="stylesheet" href="main.css">
        <link rel="stylesheet" href="/bootstrap/css/bootstrap.min.css">
    </head>
    <body class="d-flex flex-column">
        <header>
            <%- include('./partials/header'); %>
        </header>
        <div class="body-content">
            <div class="alert alert-danger alert-dismissible fade show" role="alert" style="display: none;">
                <strong>Error!</strong> Unable to add the thing.
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="thing-table">
                <div class="thing-table-child">
                    <table class="table table-striped table-hover">
                        <thead class="thead-dark">
                            <th scope="col">Image</th>
                            <th scope="col">Name</th>
                            <th scope="col">Description</th>
                            <th scope="col">Price</th>
                            <th scope="col">Date Purchased</th>
                        </thead>
                        <tbody>
                            <% for (var i = 0; i < data.length; i++) { %>
                                <tr href="#" data-toggle="modal" data-target="#item<%= data[i]._id %>Modal">
                                    <td>
                                        <% if (data[i].imageUrl != "") { %>
                                            <img width="100px" height="100px" src="<%= data[i].imageUrl %>" />
                                        <% } else { %>
                                            <img width="100px" height="100px" src="default_thing.png" />
                                        <% } %>    
                                    </td>
                                    <td>
                                        <%= data[i].name %>
                                </td>
                                    <td>
                                        <%= data[i].description %>
                                    </td>
                                    <td>
                                        $<%= data[i].price %>
                                    </td>
                                    <td>
                                        <%= data[i].date.toDateString() %>
                                    </td>
                                </tr>
                            <% }%>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <!-- Floating Action Button -->
        <a href="#" class="float" data-toggle="modal" data-target="#addItemModel">
            <div class="text">+</div>
        </a>
        <%- include('./partials/addItemModal'); %>

        <!-- Modals for clicking on each item in the list -->
        <% for (var i = 0; i < data.length; i++){ %>
            <%- include('./partials/existingItemModal', {data: data[i]}); %>
        <% } %>

        <footer>
            <%- include('./partials/footer'); %>
        </footer>
        <!-- Script Loading -->
        <%- include('./partials/scripts'); %>
        <!-- AJAX Requests -->
        <%- include('./partials/ajax-requests'); %>
    </body>
</html>